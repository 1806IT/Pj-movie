/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _top250__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./top250 */ \"./src/js/top250.js\");\n/* harmony import */ var _usBox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usBox */ \"./src/js/usBox.js\");\n/* harmony import */ var _search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./search */ \"./src/js/search.js\");\n\n\n\n!function () {\n  var that = null;\n\n  function App() {\n    this.$tabs = $('footer>div');\n    this.$panels = $('section');\n    this.top250 = new _top250__WEBPACK_IMPORTED_MODULE_0__[\"Top250\"]();\n    this.usBox = new _usBox__WEBPACK_IMPORTED_MODULE_1__[\"UsBox\"]();\n    this.search = new _search__WEBPACK_IMPORTED_MODULE_2__[\"Search\"]();\n    that = this;\n    /* top250.init(); */\n  }\n\n  App.prototype.init = function () {\n    this.bind();\n    this.top250.init();\n    this.usBox.init();\n    this.search.init();\n  };\n\n  App.prototype.bind = function () {\n    var self = this;\n    this.$tabs.on('click', function () {\n      $(this).addClass('active').siblings().removeClass('active');\n      self.$panels.eq($(this).index()).fadeIn().siblings().hide();\n    });\n  };\n\n  window.App = App;\n  var app = new App();\n  app.init();\n}();\n/*主程序*/\n\n/* !function () {\n    var app = {\n        init: function () {\n            this.$tabs = $('footer>div');\n            this.$panels = $('section');\n            this.bind();\n            /*             top250.init();\n                        usBox.init();\n                        search.init(); */\n\n/*         },\n        bind: function () {\n            var self = this;\n            this.$tabs.on('click', function () {\n                $(this).addClass('active').siblings().removeClass('active');\n                self.$panels.eq($(this).index()).fadeIn().siblings().hide();\n            });\n        }\n    };\n    app.init();\n}() */\n\n//# sourceURL=webpack:///./src/js/app.js?");

/***/ }),

/***/ "./src/js/common.js":
/*!**************************!*\
  !*** ./src/js/common.js ***!
  \**************************/
/*! exports provided: Common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Common\", function() { return Common; });\nvar Common = {\n  createNode: function createNode(movie) {\n    var template = \"\\n                <div class=\\\"item\\\">\\n                    <a href=\\\"#\\\" class=\\\"clearfix\\\">\\n                        <div class=\\\"cover\\\">\\n                            <img src=\\\"http://img1.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\\\" alt=\\\"\\u7B2C\\u4E00\\u5F20\\u5267\\u7167\\\">\\n        \\n                        </div>\\n                        <div class=\\\"detail\\\">\\n                            <h2>\\u8096\\u7533\\u514B\\u7684\\u6551\\u8D4E</h2>\\n                            <div class=\\\"extra\\\">\\n                                <span class=\\\"score\\\">9.3\\u5206 </span><span class=\\\"collect\\\"> / 1000</span><span>\\u6536\\u85CF</span>\\n                            </div>\\n                            <div class=\\\"extra\\\">\\n                                <span class=\\\"year\\\">1994 </span><span class=\\\"drama\\\">/ \\u5267\\u60C5\\u3001\\u7231\\u60C5</span>\\n                            </div>\\n                            <div class=\\\"extra\\\">\\n                                <span>\\u5BFC\\u6F14: </span><span class=\\\"director\\\">\\u5F20\\u827A\\u8C0B</span>\\n                            </div>\\n                            <div class=\\\"extra\\\">\\n                                <span>\\u4E3B\\u6F14:</span>\\n                                <span class=\\\"actors\\\">\\u5F20\\u827A\\u8C0B\\u3001\\u5DE9\\u4FD0\\u3001\\u5F20\\u66FC\\u7389</span>\\n                            </div>\\n                        </div>\\n                    </a>\\n                </div>\\n                \";\n    var $node = $(template);\n    $node.find('a').attr('href', movie.alt);\n    $node.find('.cover img').attr('src', movie.images.medium);\n    $node.find('.detail h2').text(movie.title);\n    $node.find('.extra .score').text(movie.rating.average + '分');\n    $node.find('.extra .collect').text(' /' + movie.collect_count);\n    $node.find('.extra .year').text(movie.year + '年');\n    $node.find('.extra .drama').text('   ' + movie.genres.join('/'));\n    $node.find('.extra .director').text(function () {\n      var directorArr = [];\n      movie.directors.forEach(function (item) {\n        directorArr.push(item.name);\n      });\n      return directorArr.join('、');\n    });\n    $node.find('.extra .actors').text(function () {\n      var actorsArr = [];\n      movie.casts.forEach(function (item) {\n        actorsArr.push(item.name);\n      });\n      return actorsArr.join('、');\n    });\n    return $node;\n  }\n};\n\n\n//# sourceURL=webpack:///./src/js/common.js?");

/***/ }),

/***/ "./src/js/search.js":
/*!**************************!*\
  !*** ./src/js/search.js ***!
  \**************************/
/*! exports provided: Search */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Search\", function() { return Search; });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common */ \"./src/js/common.js\");\n\n!function () {\n  var that = null;\n\n  function Search() {\n    console.log('search ok');\n    this.$element = $(\"#search\");\n    this.keyWord = '';\n    this.$input = this.$element.find('input');\n    this.$button = this.$element.find('.button');\n    this.$result = this.$element.find('.search-result');\n    this.isFinish = false;\n    this.isLoading = false;\n    this.index = 0;\n    that = this;\n  }\n\n  Search.prototype.init = function () {\n    this.bind();\n    this.start();\n  };\n\n  Search.prototype.bind = function () {\n    var _this = this;\n\n    var self = this;\n    this.$button.click(function () {\n      self.$result.empty();\n      self.index = 0;\n      self.keyWord = self.$input.val();\n      self.start(self.keyWord);\n    });\n    this.$element.scroll(function () {\n      console.log('isFinish1:' + self.isFinish);\n\n      var a = _this.isToBottom();\n\n      console.log('result:' + a);\n\n      if (a) {\n        if (!self.isFinish) {\n          console.log('isFinish2:' + self.isFinish);\n          self.keyWord = self.$input.val();\n          self.start(self.keyWord);\n        } else {\n          console.log('彻底没有了');\n        }\n      }\n    });\n  };\n\n  Search.prototype.start = function (val) {\n    /*获取数据并渲染*/\n    var self = this;\n    this.getData(val, function (data) {\n      self.render(data);\n    });\n  };\n\n  Search.prototype.getData = function (val, callback) {\n    /*获取数据*/\n    var self = this;\n    if (self.isLoading) return;\n    self.isLoading = true;\n    self.$element.find('.loading').show(); // ajax请求数据\n\n    $.ajax({\n      url: 'http://api.douban.com/v2/movie/search',\n      data: {\n        q: val,\n        start: self.index,\n        count: 20\n      },\n      dataType: 'jsonp'\n    }).done(function (ret) {\n      console.log(ret);\n      console.log('index:' + self.index);\n      console.log('total:' + ret.total);\n      console.log('self.isFinish:' + self.isFinish);\n\n      if (self.index > ret.total) {\n        console.log('999');\n        self.isFinish = true;\n        console.log('没有了');\n        return true;\n      } else {\n        console.log('继续，在加载');\n        self.isFinish = false;\n      }\n\n      self.index += 20;\n      callback && callback(ret);\n    }).fail(function () {\n      console.log('搜索数据异常');\n    }).always(function () {\n      self.isLoading = false;\n      self.$element.find('.loading').hide();\n    });\n  };\n\n  Search.prototype.render = function (data) {\n    var self = this;\n    console.log(data.subjects);\n    data.subjects.forEach(function (movie) {\n      self.$result.append(_common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].createNode(movie));\n    });\n  };\n\n  Search.prototype.isToBottom = function () {\n    self = this;\n    return self.$result.height() <= self.$element.scrollTop() + self.$element.height() + 50;\n  };\n  /*     var search=new Search()\n      search.init() */\n\n\n  window.Search = Search;\n}();\n\n\n//# sourceURL=webpack:///./src/js/search.js?");

/***/ }),

/***/ "./src/js/top250.js":
/*!**************************!*\
  !*** ./src/js/top250.js ***!
  \**************************/
/*! exports provided: Top250 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Top250\", function() { return Top250; });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common */ \"./src/js/common.js\");\n\n!function () {\n  var that = null;\n\n  function Top250() {\n    console.log('top250');\n    this.$element = $('#top250');\n    this.$container = this.$element.find('.container');\n    this.index = 0;\n    this.isFinish = false;\n    this.isLoading = false;\n    that = this;\n  }\n\n  console.log(that === this);\n\n  Top250.prototype.init = function () {\n    this.bind();\n    this.start();\n  };\n\n  Top250.prototype.bind = function () {\n    var _this = this;\n\n    /*{绑定事件*/\n    var self = this;\n    this.$element.scroll(function () {\n      var a = _this.isToBottom();\n\n      if (!(a && self.isFinish)) {\n        self.start();\n      } else {\n        console.log('该页面到底了');\n      }\n    });\n  };\n\n  Top250.prototype.start = function () {\n    /*获取数据并渲染*/\n    var self = this;\n    this.getData(function (data) {\n      self.render(data);\n    });\n  };\n\n  Top250.prototype.getData = function (callback) {\n    /*获取数据*/\n    var self = this;\n    if (self.isLoading) return;\n    self.isLoading = true;\n    self.$element.find('.loading').show(); // ajax请求数据\n\n    $.ajax({\n      url: 'http://api.douban.com/v2/movie/top250',\n      type: 'GET',\n      data: {\n        start: self.index,\n        count: 20\n      },\n      dataType: 'jsonp'\n    }).done(function (ret) {\n      /* console.log(ret);*/\n      self.index += 20;\n\n      if (self.index >= ret.total) {\n        self.isFinish = true;\n        console.log('到底了');\n        return true;\n      } else {\n        console.log('还没到底');\n      }\n\n      callback && callback(ret);\n    }).fail(function () {\n      console.log('top250数据异常');\n    }).always(function () {\n      self.isLoading = false;\n      self.$element.find('.loading').hide();\n    });\n  };\n\n  Top250.prototype.render = function (data) {\n    var self = this;\n    data.subjects.forEach(function (movie) {\n      self.$container.append(_common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].createNode(movie));\n    });\n  };\n\n  Top250.prototype.isToBottom = function () {\n    return this.$container.height() <= this.$element.scrollTop() + this.$element.height() + 50;\n  };\n\n  window.Top250 = Top250;\n}();\n\n/* 改构造函数前\n!function () {\n\n    var top250 = {\n        init: function () {\n            console.log('top250')\n            this.$element = $('#top250')\n            this.$container = this.$element.find('.container')\n            this.index = 0\n            this.isFinish = false\n            this.isLoading = false\n\n            this.bind()\n            this.start()\n\n        },\n        bind: function () {绑定事件\n            var self = this;\n            this.$element.scroll(() => {\n                let a = this.isToBottom()\n                if (!(a && self.isFinish)) {\n                    self.start()\n                } else { console.log('该页面到底了') }\n            })\n        },\n        start: function () {获取数据并渲染\n            var self = this\n            this.getData(function (data) {\n                self.render(data)\n            })\n\n        },\n        getData: function (callback) {获取数据\n            var self = this\n            if (self.isLoading) return;\n            self.isLoading = true;\n            self.$element.find('.loading').show();\n            // ajax请求数据\n            $.ajax({\n                url: 'http://api.douban.com/v2/movie/top250',\n                type: 'GET',\n                data: {\n                    start: self.index,\n                    count: 20\n                },\n                dataType: 'jsonp'\n            }).done(function (ret) {\n                 console.log(ret);\n                self.index += 20;\n                if (self.index >= ret.total) {\n                    self.isFinish = true\n                    console.log('到底了')\n                    return true\n                } else {\n                    console.log('还没到底')\n                }\n                callback && callback(ret)\n            }).fail(function () {\n                console.log('top250数据异常');\n            }).always(function () {\n                self.isLoading = false;\n                self.$element.find('.loading').hide();\n            })\n        },\n        render: function (data) {\n            var self = this\n            data.subjects.forEach(function (movie) {\n                self.$container.append(createNode(movie))\n            })\n        },\n\n        isToBottom: function () {\n            return this.$container.height() <= (this.$element.scrollTop() + this.$element.height() + 50)\n        }\n    }\n    //私有函数生成节点\n    function createNode(movie) {\n        var template = `\n                <div class=\"item\">\n                    <a href=\"#\" class=\"clearfix\">\n                        <div class=\"cover\">\n                            <img src=\"http://img1.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\" alt=\"第一张剧照\">\n        \n                        </div>\n                        <div class=\"detail\">\n                            <h2>肖申克的救赎</h2>\n                            <div class=\"extra\">\n                                <span class=\"score\">9.3分 </span><span class=\"collect\"> / 1000</span><span>收藏</span>\n                            </div>\n                            <div class=\"extra\">\n                                <span class=\"year\">1994 </span><span class=\"drama\">/ 剧情、爱情</span>\n                            </div>\n                            <div class=\"extra\">\n                                <span>导演: </span><span class=\"director\">张艺谋</span>\n                            </div>\n                            <div class=\"extra\">\n                                <span>主演:</span>\n                                <span class=\"actors\">张艺谋、巩俐、张曼玉</span>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n                `\n        var $node = $(template)\n        $node.find('a').attr('href', movie.alt)\n        $node.find('.cover img').attr('src', movie.images.medium);\n        $node.find('.detail h2').text(movie.title);\n        $node.find('.extra .score').text(movie.rating.average + '分')\n        $node.find('.extra .collect').text(' /' + movie.collect_count)\n        $node.find('.extra .year').text(movie.year + '年')\n        $node.find('.extra .drama').text('   ' + movie.genres.join('/'))\n        $node.find('.extra .director').text(function () {\n            let directorArr = [];\n            movie.directors.forEach(function (item) {\n                directorArr.push(item.name);\n            })\n            return directorArr.join('、');\n        });\n        $node.find('.extra .actors').text(function () {\n            let actorsArr = [];\n            movie.casts.forEach(function (item) {\n                actorsArr.push(item.name);\n            });\n            return actorsArr.join('、');\n        })\n        return $node\n    }\n\n    top250.init()\n}() */\n\n/* \n\n!function () {\n    var top250 = {\n        init: function () {\n            console.log('top250')\n            this.$element = $('#top250')\n            this.$container = this.$element.find('.container')\n            this.index = 0\n            this.isFinish = false\n            this.isLoading = false\n\n            this.bind()\n            this.start()\n\n        },\n        bind: function () {{绑定事件\n            var self = this;\n            this.$element.scroll(() => {\n                let a = this.isToBottom()\n                if (!(a && self.isFinish)) {\n                    self.start()\n                } else { console.log('该页面到底了') }\n            })\n        },\n        start: function () {获取数据并渲染\n            var self = this\n            this.getData(function (data) {\n                self.render(data)\n            })\n\n        },\n        getData: function (callback) {获取数据\n            var self = this\n            if (self.isLoading) return;\n            self.isLoading = true;\n            self.$element.find('.loading').show();\n            // ajax请求数据\n            $.ajax({\n                url: 'http://api.douban.com/v2/movie/top250',\n                type: 'GET',\n                data: {\n                    start: self.index,\n                    count: 20\n                },\n                dataType: 'jsonp'\n            }).done(function (ret) {\n                console.log(ret);\n                self.index += 20;\n                if (self.index >= ret.total) {\n                    self.isFinish = true\n                    console.log('到底了')\n                    return true\n                } else {\n                    console.log('还没到底')\n                }\n                callback && callback(ret)\n            }).fail(function () {\n                console.log('top250数据异常');\n            }).always(function () {\n                self.isLoading = false;\n                self.$element.find('.loading').hide();\n            })\n        },\n        render: function (data) {\n            var self = this\n            data.subjects.forEach(function (movie) {\n                var template = `\n                <div class=\"item\">\n                    <a href=\"#\" class=\"clearfix\">\n                        <div class=\"cover\">\n                            <img src=\"http://img1.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\" alt=\"第一张剧照\">\n        \n                        </div>\n                        <div class=\"detail\">\n                            <h2>肖申克的救赎</h2>\n                            <div class=\"extra\">\n                                <span class=\"score\">9.3分 </span><span class=\"collect\"> / 1000</span><span>收藏</span>\n                            </div>\n                            <div class=\"extra\">\n                                <span class=\"year\">1994 </span><span class=\"drama\">/ 剧情、爱情</span>\n                            </div>\n                            <div class=\"extra\">\n                                <span>导演: </span><span class=\"director\">张艺谋</span>\n                            </div>\n                            <div class=\"extra\">\n                                <span>主演:</span>\n                                <span class=\"actors\">张艺谋、巩俐、张曼玉</span>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n                `\n                var $node = $(template)\n                $node.find('a').attr('href', movie.alt)\n                $node.find('.cover img').attr('src', movie.images.medium);\n                $node.find('.detail h2').text(movie.title);\n                $node.find('.extra .score').text(movie.rating.average + '分')\n                $node.find('.extra .collect').text(' /' + movie.collect_count)\n                $node.find('.extra .year').text(movie.year + '年')\n                $node.find('.extra .drama').text('   ' + movie.genres.join('/'))\n                $node.find('.extra .director').text(function () {\n                    let directorArr = [];\n                    movie.directors.forEach(function (item) {\n                        directorArr.push(item.name);\n                    })\n                    return directorArr.join('、');\n                });\n                $node.find('.extra .actors').text(function () {\n                    let actorsArr = [];\n                    movie.casts.forEach(function (item) {\n                        actorsArr.push(item.name);\n                    });\n                    return actorsArr.join('、');\n                })\n                self.$element.find('.container').append($node)\n            })\n        },\n        isToBottom: function () {\n            return this.$container.height() <= (this.$element.scrollTop() + this.$element.height() + 50)\n        }\n    }\n    top250.init()\n}()\n */\n\n//# sourceURL=webpack:///./src/js/top250.js?");

/***/ }),

/***/ "./src/js/usBox.js":
/*!*************************!*\
  !*** ./src/js/usBox.js ***!
  \*************************/
/*! exports provided: UsBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UsBox\", function() { return UsBox; });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common */ \"./src/js/common.js\");\n\n!function () {\n  var that = null;\n\n  function UsBox() {\n    console.log('usBox ok');\n    that = this;\n    this.$element = $('#usBox');\n    this.$container = this.$element.find('.container');\n  }\n\n  UsBox.prototype.init = function () {\n    this.start();\n  };\n\n  UsBox.prototype.start = function () {\n    /*获取数据并渲染*/\n    var self = this;\n    this.getData(function (data) {\n      self.render(data);\n    });\n  };\n\n  UsBox.prototype.getData = function (callback) {\n    /*获取数据*/\n    var self = this;\n    self.$element.find('.loading').show(); // ajax请求数据\n\n    $.ajax({\n      url: 'http://api.douban.com/v2/movie/us_box',\n      dataType: 'jsonp'\n    }).done(function (ret) {\n      console.log(ret);\n      callback && callback(ret);\n    }).fail(function () {\n      console.log('北美电影数据异常');\n    }).always(function () {\n      self.isLoading = false;\n      self.$element.find('.loading').hide();\n    });\n  };\n\n  UsBox.prototype.render = function (data) {\n    var self = this;\n    data.subjects.forEach(function (movie) {\n      self.$container.append(_common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].createNode(movie.subject));\n    });\n  };\n\n  window.UsBox = UsBox;\n  return UsBox;\n  /*     var usBox = new UsBox()\n      usBox.init() */\n}();\n\n/* !function () {\n    var usBox = {\n        init: function () {\n            console.log('usBox ok');\n            this.$element = $('#usBox')\n            this.$container = this.$element.find('.container')\n            this.start();\n        },\n\n        start: function () {/*获取数据并渲染\n            var self = this\n            this.getData(function (data) {\n                self.render(data)\n            })\n\n        },\n        getData: function (callback) {/*获取数据\n            var self = this\n            self.$element.find('.loading').show();\n            // ajax请求数据\n            $.ajax({\n                url: 'http://api.douban.com/v2/movie/us_box',\n\n                dataType: 'jsonp'\n            }).done(function (ret) {\n                console.log(ret)\n                callback && callback(ret)\n            }).fail(function () {\n                console.log('北美电影数据异常');\n            }).always(function () {\n                self.isLoading = false;\n                self.$element.find('.loading').hide();\n            })\n        },\n        render: function (data) {\n            var self = this\n            data.subjects.forEach(function (movie) {\n                movie = movie.subject\n                var template = `\n            <div class=\"item\">\n                <a href=\"#\" class=\"clearfix\">\n                    <div class=\"cover\">\n                        <img src=\"http://img1.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\" alt=\"第一张剧照\">\n\n                    </div>\n                    <div class=\"detail\">\n                        <h2>肖申克的救赎</h2>\n                        <div class=\"extra\">\n                            <span class=\"score\">9.3分 </span><span class=\"collect\"> / 1000</span><span>收藏</span>\n                        </div>\n                        <div class=\"extra\">\n                            <span class=\"year\">1994 </span><span class=\"drama\">/ 剧情、爱情</span>\n                        </div>\n                        <div class=\"extra\">\n                            <span>导演: </span><span class=\"director\">张艺谋</span>\n                        </div>\n                        <div class=\"extra\">\n                            <span>主演:</span>\n                            <span class=\"actors\">张艺谋、巩俐、张曼玉</span>\n                        </div>\n                    </div>\n                </a>\n            </div>\n            `\n                var $node = $(template)\n                $node.find('a').attr('href', movie.alt)\n                $node.find('.cover img').attr('src', movie.images.medium);\n                $node.find('.detail h2').text(movie.title);\n                $node.find('.extra .score').text(movie.rating.average + '分')\n                $node.find('.extra .collect').text(' /' + movie.collect_count)\n                $node.find('.extra .year').text(movie.year + '年')\n                $node.find('.extra .drama').text('   ' + movie.genres.join('/'))\n                $node.find('.extra .director').text(function () {\n                    let directorArr = [];\n                    movie.directors.forEach(function (item) {\n                        directorArr.push(item.name);\n                    })\n                    return directorArr.join('、');\n                });\n                $node.find('.extra .actors').text(function () {\n                    let actorsArr = [];\n                    movie.casts.forEach(function (item) {\n                        actorsArr.push(item.name);\n                    });\n                    return actorsArr.join('、');\n                })\n                self.$container.append($node)\n            })\n        }\n    }\n    usBox.init()\n}() */\n\n//# sourceURL=webpack:///./src/js/usBox.js?");

/***/ })

/******/ });